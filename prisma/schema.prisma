generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlserver"
  url      = env("DB_TRACOS_URL")
}

model User {
  id          String  @id @default(uuid())
  name        String  @db.VarChar(255)
  email       String  @unique @db.VarChar(255)
  password    String
  accessToken String? @map("access_token")

  @@map("user")
}

model XrefReservation {
  id       Int     @id @default(autoincrement())
  tracosId String  @unique @map("tracos_id")
  logixId  String  @unique @map("logix_id")
  status   String? @db.VarChar(20)

  @@index([tracosId])
  @@index([logixId])
  @@map("xref_reservation")
}

model XrefItem {
  id       Int     @id @default(autoincrement())
  tracosId String  @unique @map("tracos_id")
  logixId  String  @unique @map("logix_id")
  disabled Boolean

  @@index([tracosId])
  @@index([logixId])
  @@map("xref_item")
}

model TracosToken {
  id          Int      @id @default(autoincrement())
  token       String
  companyId   String   @unique @map("company_id") @db.VarChar(255)
  updatedAt   DateTime @updatedAt @map("updated_at")
  environment String?  @unique @db.VarChar(3)

  @@map("tracos_token")
}

model DirectDebitTemp {
  id        Int      @id @default(autoincrement())
  createdAt DateTime @default(now()) @map("created_at")
  numNf     String   @map("num_nf")
  osNum     String   @map("os_num")

  @@unique([numNf, osNum])
  @@map("direct_debit_temp")
}
